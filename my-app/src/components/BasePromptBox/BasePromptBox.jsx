import React, { Component } from "react";
import ProTypes from "prop-types";
import "./BasePromptBox.less";

// 提示弹窗
class BasePromptBox extends Component {
  constructor() {
    super();
    this.state = {
      isShow: false
    }
  }

  mouseEnterFn = () => {
    this.setIsShow(true)
  }

  mouseLeaveFn = () => {
    this.setIsShow(false)
  }

  setIsShow = (bool) => {
    this.setState({
      isShow: bool
    })
  }

  render() {
    const { isShow } = this.state;
    const { className, showMode, text } = this.props;
    return (
      <div className={`BasePromptBox ${className} ${isShow ? "show" : "unShow"}`}
        onMouseEnter={this.mouseEnterFn}
        onMouseLeave={this.mouseLeaveFn}
      >
        {
          showMode === "hover" ?
            <div className="icon">
              <span>
                <svg t="1585897141511" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10702" width="16" height="16"><path d="M931.030371 218.347059C814.616634 51.879393 616.389437-24.082133 428.218477 6.711545a509.288793 509.288793 0 0 0-209.931068 85.506429c-231.236656 161.75203-287.767485 481.44949-126.129085 712.742961a36.759242 36.759242 0 1 0 60.394242-42.213473C14.094647 564.747524 62.500945 291.01332 260.500883 152.555401 458.387191 14.211112 732.178209 62.50378 870.692944 260.503717c138.457919 197.999938 90.051622 471.734142-107.948317 610.192061a437.020236 437.020236 0 0 1-455.314634 28.748341 36.759242 36.759242 0 1 0-34.259387 65.10988 510.027387 510.027387 0 0 0 531.787494-33.520793c231.236656-161.695215 287.767485-481.44949 126.072271-712.686147z m-326.117545 326.685694c46.360961-38.406875 69.257367-68.859663 83.347463-91.358365a131.242427 131.242427 0 0 0 21.248774-71.132258c-0.11363-45.111033-11.93113-84.767836-50.565264-118.743148-38.520504-34.088942-83.063389-51.133413-148.230082-51.133413-61.985059 0-104.653052 16.874026-142.775852 50.565264A185.04614 185.04614 0 0 0 322.713202 321.579738c-14.771875 30.680048 2.045337 60.337427 34.259386 69.825516l6.647344 1.249928c17.442175 2.613486 30.509603-5.340601 43.974735-30.111898 7.101863-13.067428 24.089519-28.975601 35.793389-38.804579 19.430697-16.476322 43.463401-24.714483 72.325372-24.714483 29.884639 0 53.576454 7.954086 71.245889 23.691814 17.61262 15.794543 26.475745 34.657091 26.475745 56.814904 0 15.908173-5.113341 30.452788-14.999135 43.633845-6.476899 8.351791-26.248485 26.021226-59.371574 52.95149-33.123089 26.873449-55.224086 51.190228-66.246177 72.723076-11.078906 21.532848-14.4878 35.33887-14.658245 68.746033-0.170445 31.816346 24.203149 40.679471 47.326814 40.679471 31.816346 0 45.224663-18.862548 48.860817-43.520216 1.363558-9.090385 3.352079-16.249062 5.90875-21.589663 5.79512-12.158389 20.566995-28.123377 44.713329-48.179038z m-91.471994 152.548015a56.814903 56.814903 0 0 0-56.814903 56.814903c0 33.975312 23.635 56.758088 56.814903 56.758089a56.814903 56.814903 0 1 0 0-113.629807z" p-id="10703" fill="#d81e06"></path></svg>                {/* <svg t="1585876498383" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2835" width="16" height="16"><path d="M878.08 731.274667a32 32 0 0 1-54.88-32.938667A360.789333 360.789333 0 0 0 874.666667 512c0-200.298667-162.368-362.666667-362.666667-362.666667S149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667a360.789333 360.789333 0 0 0 186.314667-51.445334 32 32 0 0 1 32.928 54.88A424.778667 424.778667 0 0 1 512 938.666667C276.362667 938.666667 85.333333 747.637333 85.333333 512S276.362667 85.333333 512 85.333333s426.666667 191.029333 426.666667 426.666667c0 78.293333-21.152 153.568-60.586667 219.274667zM650.666667 437.333333c0 65.898667-46.72 120.853333-109.194667 135.082667V608a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32C552.266667 512 586.666667 478.4 586.666667 437.333333s-34.4-74.666667-77.194667-74.666666c-26.773333 0-51.082667 13.248-65.173333 34.624a73.088 73.088 0 0 0-8.522667 17.717333 32 32 0 0 1-60.885333-19.690667c3.797333-11.754667 9.173333-22.933333 15.978666-33.237333 25.856-39.253333 70.186667-63.413333 118.613334-63.413333C587.274667 298.666667 650.666667 360.576 650.666667 437.333333zM512 736a32 32 0 1 1 0-64 32 32 0 0 1 0 64z" p-id="2836" fill="#d81e06"></path></svg> */}
              </span>
            </div> : null
        }
        {
          isShow ?
            <div>
              <span dangerouslySetInnerHTML={{ __html: text }}></span>
            </div> : null
        }
      </div>
    )
  }
}

BasePromptBox.propTypes = {
  text: ProTypes.string,
  className: ProTypes.string,
  showMode: ProTypes.string
}

BasePromptBox.defaultProps = {
  text: "",
  className: "",
  showMode: "hover" // 展示方式： "hover"、"click"(暂未开放)
}

export default BasePromptBox;

/* 使用说明：
引用后需要给一个标签，来确定需要展现是位置，举例：
<div className="memo_box">
  <BasePromptBox
    text="游戏提供的计算模型:<br />n * n * n * n<br />(n * n) * (n * n)<br />n * (n * n) * n<br />n * (n * (n * n))<br/>可以按回车键进行下一关"
  />
</div>
memo_box 的样式能控制 此提示框 展开的方向，举例：
  .memo_box{ // 向左下方展开
    position: fixed;
    top: 200px;
    right: 100px;
  }
  .memo_box{ // 向右下方展开
    position: fixed;
    top: 200px;
    left: 1000px;
  }
  .memo_box{ // 向左上方展开
    position: fixed;
    bottom: 200px;
    right: 100px;
  }
  .memo_box{ // 向右上方展开
    position: fixed;
    bottom: 200px;
    left: 100px;
  }
*/